[toc]

# 函数执行上下文

1. 严格模式下，全局函数的this会默认绑定为undefind，非严格下this会绑定到window/go对象上
2. 使用new关键字调用构造函数时，this会被绑定到新创建的对象上
3. 使用call/apply/bind，this会绑定到传入的对象上
4. 在对象上调用其方法时，this指向该对象
5. 箭头函数的this就是定义时上下文的this
6. 在定时器中this指向window，因为回调函数指向window

# 执行上下文和作用域链
执行上下文就是当前js代码呗解析和执行时所在环境，js执行上下文栈可以认为是一个存储函数调用的栈结构
当一段js代码在运行的时候，它实际上是运行在执行上下文中
- js执行在单线程上，所有的代码都是排队执行
- 浏览器执行全局的代码时，首先创建全局的执行上下文，压入执行栈的顶部
- 每个函数会在执行的时候创建自己的执行上下文，并且把它压入执行栈的顶部，这个上下文就是通常说的本地上下文，当前函数执行完毕并退出的时候，其上下文也从栈中弹出并销毁
- 主程序退出，全局执行上下文从执行栈中弹出，此时战中所有的上下文都已经弹出，程序执行完毕
作用域链：函数执行所需要的变量在当前作用域中找不到的时候，就会一层一层向上查找，一直找到全局作用域，这种一层一层的关系就是作用域链
定义对象的大括号{}是无法形成一个单独的执行环境的，它依旧是处于全局执行环境中。